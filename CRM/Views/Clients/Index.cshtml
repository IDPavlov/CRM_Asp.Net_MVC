@{
    ViewData["Title"] = "Клиенты";
}
@model List<CRM.Models.Client>

<h2>Клиенты</h2>

<p><a href="Clients/Create">Создать клиента</a></p>

<form asp-action="Index" method="get">
    <input type="text" name="searchString" value="@ViewData["CurrentFilter"]" />
    <button type="submit">Поиск</button>
</form>

<a asp-action="Index" asp-route-sortOrder="@ViewData["NameSort"]">Сортировать по имени</a>
<a asp-action="Index" asp-route-sortOrder="@ViewData["DateSort"]">Сортировать по дате</a>

<table>
<tr>
    <th>ID</th>
    <th>Имя</th>
    <th>Email</th>
    <th>Телефон</th>
    <th>Удалить?</th>
</tr>
@foreach(var person in Model)
{
    <tr>
        <td>@person.Id</td>
        <td>@person.Name</td>
        <td>@person.Email</td>
        <td>@person.Phone</td>
        <td>
                <form asp-action="Delete" asp-route-id="@person.Id" method="post">
                    @Html.AntiForgeryToken()
                <button type="submit">Удалить</button>
            </form>
        </td>
    </tr>
}
</table>
